<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MNH 5 - Packages</title>
</head>
<body>
<h2 align="center"><a href="index.html">MNH 5</a> - Packages</h3>
<div align="center"; class="red">Open the documentation from the GUI via Help -> "Open Documentation" to make sure it is up to date.</div>
<div align="right"><hr> </div>
<h3><a href="#usage">Usage</a></h3>
<ul>
  <li><h4><a href="#defining">Defining a package</a></h4></li>
  <li><h4><a href="#importing">Importing a package</a></h4></li>
  <li><h4><a href="#executables">Executable packages</a></h4></li>
  <li><h4><a href="#comments">Comments</a></h4></li>
  <li><h4><a href="#batchmode">Batch mode</a></h4></li>  
</ul>  
<h3><a href="#defined">Currently defined packages</a></h3>

<div align="right"><hr> </div>

<h3><a name="usage">Usage</a></h3>
Packages form the major means to structure your implementation so that parts of it can be reused.<br>
Each package is a collection of functions and expressions; each input to MNH is a package.<br>
Expressions in a package will only be executed in interactive mode.<br>
For details on how to define functions, see <a href="functions.html">MNH5 - Functions</a>
<h4><a name="defining">Defining a package</a></h4>
To define a package, just create a file with the extension <code>.mnh</code> (or even simpler: start typing in interactive mode). The following restrictions apply:
<ul>
  <li>The filenmae (without extension) should be a valid identifier, i.e. it should start with a letter.<br>This is because the filename wihtout extension will be interpreted as the package-identifier.
  <br>Packages violating this convention cannot be imported by other packages.</li>
  <li>The package must be in the search paths of importing packages (see <a href="#importing">Importing a package</a>).
  <li>The filename must not be <code>mnh.mnh</code>, since the package <code>mnh</code> is used as a pseudo-package containing all built-in functions.</li>
</ul>

<h4><a name="importing">Importing a package</a></h4>
To import a package, start your package with a <i>use clause</i>, e.g.:<code>
  USE basic;</code><br>
This will import the first package with a filename <code>basic.mnh</code> in the following folders:<ul>
  <li> The same folder as the importing package </li>
  <li> This folder's subfolders </li>
</ul>
Having imported a package, you might run into naming conflicts. All rules can be accessed using either their name or qualified access via package.name, e.g.<code>
  basic.sum([1,2,6]);</code>
<h4><a name="executables">Executable packages</a></h4> 
A package is <i>executable</i> if it contains a rule called <code>main</code>.
Executable packages can be executed from the command line. If called as<code>  
  mnh_console </code><i>packageName</i><code>.mnh
</code>the nullary main function will be executed. If additional parameters are given, the respective n-ary main rule will be executed, e.g.<code>
  mnh_console </code><i>packageName</i><code>.mnh </code><i>parameter_1<code> </code> parameter_2</i><br>
All input parameters will be passed as strings; consequently they must be converted to other types (e.g. using <code>softCast</code>) as needed.

<h4><a name="comments">Comments</a></h4> 
A comment is any string starting with <code>//</code> and ending with the following line break.<br>
A <i>doc-</i>comment is a comment starting with <code>//*</code>. Doc-comments are always associated with the (sub-)rule following the comment. 
They will be shown here (if the page is regenerated).<br>
Additionally, comments of the main rule are shown as help on the package on the command line, e.g.<br>
<code>  mnh_console </code><i>packageName</i><code>.mnh -h</code>

<h4><a name="batchmode">Batch mode</a></h4> 
By default only the main rule is actually evaluated when a script is interpreted; in interactive mode on the other hand every statement is interpreted.<br>
To enable <i>batch mode</i>, use the special (pseuco-)comment <code>//!BATCH ON</code>. Batch mode can be disabled again using <code>//!BATCH OFF</code>.

<h3><a name="defined">Currently defined packages</a></h3>
