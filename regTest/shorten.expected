Input length  : 2003
Result length : 1200
Ratio         : 59.91%
replace("s{s:st4)->_nHrUs{s,2);HtryOn:=true;!eJNen,[3..32],tryOn ? _n!  lo7newRUs{s,Nen)Y5newR+t)<5K !  ? rUnewR+t!  : tryOn:=falseYT;!endD);!Ant ('Input l\"h  : ',5`s)));Ant ('R+t l\"h : ',5K);Antf('Ratio$$ :%##0.00%%%',5K/5`s))*100);Ant (K;!r+t;\n\rend;Zprivate j2(source:st4,BWhat)->5source)-5B(source,BWhat,'~'))-5BWhat)-1;Zs{s:st4,N\"h)->_nH@X:=[];HG:=s;HBmQ:=[];Hproceed:=true;HrU'';!eJrunV.9],_n!  lo7@8:=unique(k(GV.5G)-1],1))Y@8:=eJc,[' '..'[',']'..'~'],c in @8 ? T : c)YeJ@8Char,@8,proceed ? _n}7S:=unique(k(GV.5G)-N\"h],N\"h));}7js:=pEJsub,S,j2(G,sub));}7bestIdx:=argMax(js);!$BmQ:=S%bestIdx|BmQ;!$@X:=@8Char|@X;!$G:=B(G,S%bestIdx,@8Char);}7oldLen:=5K=0 ? 2^62 : 5K;!$rU'B('&`G)&','&!$$$'k('&`eJc,@X ,&))&'V.'&(size(@X )-1)&']*1,1),'&!$$$'k('&`eJr,BmQ,&))&'V.'&(size(BmQ)-1)&']*'&N\"h&','&N\"h&'));';!$5K>=oldLen ? proceed:=falseD;!$TYendD);!end);!r+t;\n\rend;Z//*For regression test\n\rmain->main(myPath);\n\rmain(filename)->s{fileContQ(filename));\n\r",copy('DZSkjZDA}{j`_ZYXVUTQNKJHGDBA@8754+$"!',[0..36]*1,1),copy(' : T\n\r\n\rsubDcopyZfitbeneSt4s!pri!$lojen(hortescZbegiape(;!  8Out,[0.+t:=voidentssubLr+t)ach(!lo7worDkSt4rAceeplaalphabetcal l"h(ringesul    engt\n\r  ',[0..36]*4,4));
